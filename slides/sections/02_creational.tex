\section{Creational Patterns}

% ============================================
% FACTORY METHOD PATTERN
% ============================================

\begin{frame}{Factory Method: Vấn đề}
  \begin{itemize}
    \item Tạo đối tượng trực tiếp làm code cứng nhắc
    \item Khó thay đổi loại đối tượng được tạo
    \item Vi phạm Open/Closed Principle
    \item Code phức tạp khi thêm loại mới
    \item Coupling cao giữa client và concrete class
  \end{itemize}
\end{frame}

\begin{frame}{Factory Method: Câu hỏi cốt lõi}
  \begin{center}
    \Large
    \textbf{Làm sao để tạo đối tượng\\
    mà không cần chỉ định class cụ thể?}
  \end{center}
  \vspace{1em}
  \begin{itemize}
    \item Delegate trách nhiệm tạo object cho subclass
    \item Client chỉ làm việc với interface
    \item Dễ mở rộng với loại mới
  \end{itemize}
\end{frame}

\begin{frame}{Factory Method: Cách hoạt động}
  \begin{itemize}
    \item Define interface cho việc tạo object
    \item Subclass quyết định class nào được khởi tạo
    \item Sử dụng kế thừa để ủy quyền
    \item Client gọi factory method, không gọi constructor
    \item Product được tạo qua abstraction
  \end{itemize}
\end{frame}

\begin{frame}{Factory Method: Khi nào dùng?}
  \begin{block}{Nên dùng khi}
    \begin{itemize}
      \item Không biết trước loại object cần tạo
      \item Muốn subclass quyết định implementation
      \item Cần tập trung logic tạo object
    \end{itemize}
  \end{block}
  
  \begin{alertblock}{Không nên dùng khi}
    \begin{itemize}
      \item Chỉ có một loại object duy nhất
      \item Không cần flexibility trong tương lai
    \end{itemize}
  \end{alertblock}
\end{frame}

\begin{frame}{Factory Method: Trade-offs}
  \begin{columns}[T]
    \begin{column}{0.48\textwidth}
      \textbf{Ưu điểm}
      \begin{itemize}
        \item Loose coupling
        \item Single Responsibility
        \item Dễ mở rộng
        \item Code reusability
      \end{itemize}
    \end{column}
    
    \begin{column}{0.48\textwidth}
      \textbf{Nhược điểm}
      \begin{itemize}
        \item Tăng số lượng class
        \item Code phức tạp hơn
        \item Cần hiểu kế thừa
      \end{itemize}
    \end{column}
  \end{columns}
\end{frame}

% ============================================
% BUILDER PATTERN
% ============================================

\begin{frame}{Builder: Vấn đề}
  \begin{itemize}
    \item Constructor có quá nhiều tham số
    \item Khó đọc khi khởi tạo object phức tạp
    \item Nhiều bước khởi tạo tuần tự
    \item Cần tạo nhiều constructor khác nhau
    \item Khó quản lý optional parameters
  \end{itemize}
\end{frame}

\begin{frame}{Builder: Câu hỏi cốt lõi}
  \begin{center}
    \Large
    \textbf{Làm sao xây dựng object phức tạp\\
    theo từng bước một cách rõ ràng?}
  \end{center}
  \vspace{1em}
  \begin{itemize}
    \item Tách quá trình xây dựng khỏi representation
    \item Cho phép cùng process tạo nhiều representation
    \item Fluent interface dễ đọc
  \end{itemize}
\end{frame}

\begin{frame}{Builder: Cách hoạt động}
  \begin{itemize}
    \item Tạo Builder class riêng biệt
    \item Cung cấp methods cho từng bước xây dựng
    \item Method chaining (fluent API)
    \item build() method trả về object cuối cùng
    \item Director (optional) điều phối các bước
  \end{itemize}
\end{frame}

\begin{frame}{Builder: Khi nào dùng?}
  \begin{block}{Nên dùng khi}
    \begin{itemize}
      \item Object có nhiều thuộc tính
      \item Nhiều bước khởi tạo phức tạp
      \item Cần immutable objects
    \end{itemize}
  \end{block}
  
  \begin{alertblock}{Không nên dùng khi}
    \begin{itemize}
      \item Object đơn giản với ít thuộc tính
      \item Constructor đủ rõ ràng
    \end{itemize}
  \end{alertblock}
\end{frame}

\begin{frame}{Builder: Trade-offs}
  \begin{columns}[T]
    \begin{column}{0.48\textwidth}
      \textbf{Ưu điểm}
      \begin{itemize}
        \item Code dễ đọc
        \item Kiểm soát từng bước
        \item Immutability
        \item Reusable builder
      \end{itemize}
    \end{column}
    
    \begin{column}{0.48\textwidth}
      \textbf{Nhược điểm}
      \begin{itemize}
        \item Tăng số class
        \item Boilerplate code
        \item Overhead cho object đơn giản
      \end{itemize}
    \end{column}
  \end{columns}
\end{frame}
